import{s as _,g as q,a as f,b as y,c,d as u,h as l,e as S,f as g,i as H,j as T,k as B,T as P}from"./assets/wishlist-VbHSBfug.js";import"./assets/vendor-CBLHhzjb.js";_();F();let a="",e=0,r="All";const o=document.querySelector("ul.products"),m=document.querySelector("ul.categories"),d=document.querySelector("div.not-found");function F(){q().then(t=>{t.unshift("All");const n=t.map(p=>`
    <li class="categories__item">
   <button class="categories__btn" type="button">${p}</button>
 </li>
    `).join("");m.insertAdjacentHTML("beforeend",n),m.addEventListener("click",E)}).catch(t=>console.log(t))}async function E(t){if(t.target.nodeName!=="BUTTON")return;f(),L(),a=t.target.textContent,a==="All"?r="All":r="category",m.querySelectorAll("button").forEach(s=>s.classList.remove("categories__btn--active")),t.target.closest("button").classList.add("categories__btn--active"),e=1;try{if(a==="All"){const v=await y(e);o.innerHTML=c(v.products),v.products.length>=12?u():l();return}const s=await S(a,e);s.products.length>=12?u():l(),o.innerHTML=c(s.products)}catch(s){console.log(s)}finally{g()}}o.addEventListener("click",H);const j=document.querySelector("[data-cart-count]");let b=0;const C=T("cartCounter");C&&(b=C,j.textContent=b);const N=document.querySelector("[data-wishlist-count]");let A=0;const M=T("wishlistCounter");M&&(A=M,N.textContent=A);const k=document.querySelector(".search-form"),w=k.querySelector(".search-form__input");let i="";k.addEventListener("submit",x);async function x(t){t.preventDefault(),e=1,r="search",f(),L();try{if(i=w.value.trim(),i==="")return;const n=await B(i,e);n.products.length>=12?u():l(),n.products.length===0&&(o.innerHTML="",d.classList.add("not-found--visible")),o.innerHTML=c(n.products)}catch(n){console.log(n)}finally{g()}}const W=document.querySelector(".search-form__btn-clear");W.addEventListener("click",D);async function D(){w.value="",r="All",f(),L();const t=await y(e);o.innerHTML=c(t.products),t.products.length>=12?u():l(),g()}const I=document.querySelector(".load-more-btn");I.addEventListener("click",O);async function O(){e+=1;try{if(f(),r==="All"){const{products:t}=await y(e);h(t),o.insertAdjacentHTML("beforeend",c(t))}else if(r==="category"){const{products:t}=await S(a,e);h(t),o.insertAdjacentHTML("beforeend",c(t))}else if(r==="search"){const{products:t}=await B(i,e);h(t),o.insertAdjacentHTML("beforeend",c(t))}}catch(t){console.log(t)}finally{g()}}function h(t){t.length===0&&(d.classList.add("not-found--visible"),l())}function L(){d.classList.contains("not-found--visible")&&d.classList.remove("not-found--visible")}const R=document.querySelector(".theme-btn");R.addEventListener("click",P);
//# sourceMappingURL=index.js.map
