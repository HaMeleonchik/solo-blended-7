import"./assets/styles-C18aTrnn.js";import{g as B,a as m,c as n,s as u,h as l,b,d as C,e as H,f as A}from"./assets/modal-D6IXO2kB.js";import"./assets/vendor-CBLHhzjb.js";S();let a="",e=0,r="All";const o=document.querySelector("ul.products"),g=document.querySelector("ul.categories"),d=document.querySelector("div.not-found");function S(){B().then(t=>{t.unshift("All");const c=t.map(L=>`
    <li class="categories__item">
   <button class="categories__btn" type="button">${L}</button>
 </li>
    `).join("");g.insertAdjacentHTML("beforeend",c),g.addEventListener("click",T)}).catch(t=>console.log(t))}async function T(t){if(t.target.nodeName!=="BUTTON")return;p(),a=t.target.textContent,a==="All"?r="All":r="category",g.querySelectorAll("button").forEach(s=>s.classList.remove("categories__btn--active")),t.target.closest("button").classList.add("categories__btn--active"),e=1;try{if(a==="All"){const h=await m(e);o.innerHTML=n(h.products),h.products.length>=12?u():l();return}const s=await b(a,e);s.products.length>=12?u():l(),o.innerHTML=n(s.products)}catch(s){console.log(s)}}o.addEventListener("click",C);const k=document.querySelector(".nav__count");let y=0;const v=H("cartCounter");v&&(y=v,k.textContent=y);const M=document.querySelector(".search-form"),_=M.querySelector(".search-form__input");let i="";M.addEventListener("submit",q);async function q(t){t.preventDefault(),e=1,r="search",p();try{if(i=_.value.trim(),i==="")return;const c=await A(i,e);c.products.length>=12?u():l(),c.products.length===0&&(o.innerHTML="",d.classList.add("not-found--visible")),o.innerHTML=n(c.products)}catch(c){console.log(c)}}const P=document.querySelector(".search-form__btn-clear");P.addEventListener("click",w);async function w(){_.value="",r="All",p();const t=await m(e);o.innerHTML=n(t.products),t.products.length>=12?u():l()}const F=document.querySelector(".load-more-btn");F.addEventListener("click",E);async function E(){e+=1;try{if(r==="All"){const{products:t}=await m(e);f(t),o.insertAdjacentHTML("beforeend",n(t))}else if(r==="category"){const{products:t}=await b(a,e);f(t),o.insertAdjacentHTML("beforeend",n(t))}else if(r==="search"){const{products:t}=await A(i,e);f(t),o.insertAdjacentHTML("beforeend",n(t))}}catch(t){console.log(t)}}function f(t){t.length===0&&(d.classList.add("not-found--visible"),l())}function p(){d.classList.contains("not-found--visible")&&d.classList.remove("not-found--visible")}
//# sourceMappingURL=index.js.map
