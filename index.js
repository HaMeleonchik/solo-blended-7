import{g as w,a as h,c,s as u,h as i,b as A,d as H,e as M,f as B}from"./assets/wishlist-B62r9ZVE.js";import"./assets/vendor-CBLHhzjb.js";T();let a="",e=0,r="All";const o=document.querySelector("ul.products"),g=document.querySelector("ul.categories"),d=document.querySelector("div.not-found");function T(){w().then(t=>{t.unshift("All");const n=t.map(y=>`
    <li class="categories__item">
   <button class="categories__btn" type="button">${y}</button>
 </li>
    `).join("");g.insertAdjacentHTML("beforeend",n),g.addEventListener("click",k)}).catch(t=>console.log(t))}async function k(t){if(t.target.nodeName!=="BUTTON")return;m(),a=t.target.textContent,a==="All"?r="All":r="category",g.querySelectorAll("button").forEach(s=>s.classList.remove("categories__btn--active")),t.target.closest("button").classList.add("categories__btn--active"),e=1;try{if(a==="All"){const L=await h(e);o.innerHTML=c(L.products),L.products.length>=12?u():i();return}const s=await A(a,e);s.products.length>=12?u():i(),o.innerHTML=c(s.products)}catch(s){console.log(s)}}o.addEventListener("click",H);const q=document.querySelector("[data-cart-count]");let p=0;const v=M("cartCounter");v&&(p=v,q.textContent=p);const P=document.querySelector("[data-wishlist-count]");let b=0;const C=M("wishlistCounter");C&&(b=C,P.textContent=b);const S=document.querySelector(".search-form"),_=S.querySelector(".search-form__input");let l="";S.addEventListener("submit",F);async function F(t){t.preventDefault(),e=1,r="search",m();try{if(l=_.value.trim(),l==="")return;const n=await B(l,e);n.products.length>=12?u():i(),n.products.length===0&&(o.innerHTML="",d.classList.add("not-found--visible")),o.innerHTML=c(n.products)}catch(n){console.log(n)}}const E=document.querySelector(".search-form__btn-clear");E.addEventListener("click",N);async function N(){_.value="",r="All",m();const t=await h(e);o.innerHTML=c(t.products),t.products.length>=12?u():i()}const j=document.querySelector(".load-more-btn");j.addEventListener("click",x);async function x(){e+=1;try{if(r==="All"){const{products:t}=await h(e);f(t),o.insertAdjacentHTML("beforeend",c(t))}else if(r==="category"){const{products:t}=await A(a,e);f(t),o.insertAdjacentHTML("beforeend",c(t))}else if(r==="search"){const{products:t}=await B(l,e);f(t),o.insertAdjacentHTML("beforeend",c(t))}}catch(t){console.log(t)}}function f(t){t.length===0&&(d.classList.add("not-found--visible"),i())}function m(){d.classList.contains("not-found--visible")&&d.classList.remove("not-found--visible")}
//# sourceMappingURL=index.js.map
