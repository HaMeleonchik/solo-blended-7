import{a as m,i as I}from"./vendor-CBLHhzjb.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const n of c.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();function i(t,e){const r=JSON.stringify(e);try{localStorage.setItem(t,r)}catch(s){console.error(s)}}function a(t){try{const e=localStorage.getItem(t);return e===null?void 0:JSON.parse(e)}catch(e){console.error(e)}}const h="https://dummyjson.com";async function S(t){try{return(await m.get(`${h}/products/${t}`)).data}catch(e){console.log(e)}}async function V(t,e=1){try{return(await m.get(`${h}/products/search?q=${t}&limit=12&skip=${(e-1)*12}`)).data}catch(r){console.log(r)}}async function X(){try{return(await m.get(`${h}/products/category-list`)).data}catch(t){console.log(t)}}async function Y(t,e=1){try{return(await m.get(`${h}/products/category/${t}?limit=12&skip=${(e-1)*12}`)).data}catch(r){console.log(r)}}async function Z(t){try{return(await m.get(`${h}/products?limit=12&skip=${(t-1)*12}`)).data}catch(e){console.log(e)}}function x(t){return t.map(({id:e,title:r,category:s,images:o,description:c,brand:n,price:d})=>`
  <li class="products__item" data-id="${e}">
    <img class="products__image" src="${o[0]}" alt="${c}"/>
    <p class="products__title">${r}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand: ${n}</span></p>
    <p class="products__category">Category: ${s}</p>
    <p class="products__price">Price: $${d}</p>
 </li>
  `).join("")}function z({returnPolicy:t,title:e,category:r,images:s,description:o,shippingInformation:c,price:n}){return`
<img class="modal-product__img" src="${s[0]}" alt="${o}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${e}</p>
        <ul class="modal-product__tags">${r}</ul>
        <p class="modal-product__description">${o}</p>
        <p class="modal-product__shipping-information">Shipping:${c}</p>
        <p class="modal-product__return-policy">Return Policy:${t}</p>
        <p class="modal-product__price">Price:${n}$</p>
      </div>

  `}const L=document.querySelector(".load-more-btn");function tt(){L&&(L.style.display="block")}function et(){L&&(L.style.display="none")}const W=document.querySelector(".loader");function k(){W.style.display="block"}function B(){W.style.display="none"}function A(){document.body.classList.toggle("theme-dark"),document.body.classList.toggle("theme-light");const t=document.body.classList.value;i("theme",t)}function M(){const t=a("theme");t&&(document.body.classList.value=t)}M();R();const v=document.querySelector(".products-cart");v&&v.addEventListener("click",F);async function R(){try{k();const t=document.querySelector(".products-cart");if(!t)return;const e=a("Cards");if(!e||e.lenght===0)return;const r=e.map(p=>S(p)),s=await Promise.all(r),o=document.querySelector("[data-cart-count]"),c=document.querySelector("[data-wishlist-count]"),n=a("cartCounter"),d=a("wishlistCounter"),u=document.querySelectorAll(".cart-summary__value");n&&(o.textContent=n,u.length>0&&(u[0].textContent=n)),d&&(c.textContent=d);const T=s.map(p=>p.price).reduce((p,D)=>p+D,0),N=Math.round(T*100)/100;u.length>1&&(u[1].textContent=`$${N}`),t.innerHTML=x(s)}catch(t){console.log(t)}finally{B()}}const g=document.querySelector(".cart-summary__btn");g&&!g.dataset.listenerAdded&&(g.addEventListener("click",j),g.dataset.listenerAdded="true");function j(){I.show({backgroundColor:"green",message:"Successful buy product",messageColor:"white",position:"topRight",close:!1,iconUrl:"icon/success.svg"})}const H=document.querySelector(".theme-btn");H.addEventListener("click",A);let l=0;const E=document.querySelector(".modal-product"),_=E.closest(".modal"),J=_.querySelector(".modal__close-btn");async function F(t){const e=t.target.closest(".products__item");if(e){l=e.dataset.id;try{const r=await S(l);E.innerHTML=z(r),_.classList.add("modal--is-open");const s=_.querySelector(".modal-product__btn--cart");(a("Cards")||[]).find(f=>f===l)?s.textContent="Remove from Cart":s.textContent="Add to cart";const n=document.querySelector(".modal-product__btn--wishlist");(a("Wishlist")||[]).find(f=>f===l)?n.textContent="Remove from Wishlist":n.textContent="Add to Wishlist",s.addEventListener("click",U),n.addEventListener("click",K),J.addEventListener("click",()=>{_.classList.remove("modal--is-open")})}catch(r){console.log(r)}}}const $=document.querySelector("[data-cart-count]"),b=document.querySelector("[data-wishlist-count]");let y=0,C=0;function U(t){if(t.target.textContent==="Remove from Cart"){const s=(a("Cards")||[]).filter(o=>o!==l);i("Cards",s),y=$.textContent=s.length,i("cartCounter",y),t.target.textContent="Add to cart",w();return}t.target.textContent="Remove from Cart";const e=a("Cards")||[];e.push(l),i("Cards",e),y=$.textContent=[...e].length,i("cartCounter",y),w()}function w(){document.body.dataset.page==="cart"&&R()}function K(t){if(t.target.textContent==="Remove from Wishlist"){const s=(a("Wishlist")||[]).filter(o=>o!==l);i("Wishlist",s),C=b.textContent=s.length,i("wishlistCounter",C),t.target.textContent="Add to Wishlist",P();return}t.target.textContent="Remove from Wishlist";const e=a("Wishlist")||[];e.push(l),i("Wishlist",e),C=b.textContent=[...e].length,i("wishlistCounter",C),P()}function P(){document.body.dataset.page==="wishlist"&&O()}M();const q=document.querySelector(".products-wishlist");q&&q.addEventListener("click",F);O();async function O(){try{k();const t=document.querySelector(".products-wishlist");if(!t)return;const e=a("Wishlist");if(!e||e.lenght===0)return;const r=e.map(u=>S(u)),s=await Promise.all(r),o=document.querySelector("[data-cart-count]"),c=document.querySelector("[data-wishlist-count]"),n=a("cartCounter"),d=a("wishlistCounter");n&&(o.textContent=n),d&&(c.textContent=d),t.innerHTML=x(s)}catch(t){console.log(t)}finally{B()}}const G=document.querySelector(".theme-btn");G.addEventListener("click",A);export{A as T,k as a,Z as b,x as c,tt as d,Y as e,B as f,X as g,et as h,F as i,a as j,V as k,M as s};
//# sourceMappingURL=wishlist-VbHSBfug.js.map
